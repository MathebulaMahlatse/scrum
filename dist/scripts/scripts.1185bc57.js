"use strict";angular.module("prodAngularApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","scrum.teamController","scrum.storiesService","scrum.storiesController"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/scrumTeams.html",controller:"TeamController"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/stories",{templateUrl:"views/stories.html",controller:"StoriesController"}).otherwise({redirectTo:"/"}),b.hashPrefix("")}]),angular.module("prodAngularApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("prodAngularApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);var module=angular.module("scrum.storiesService",[]);module.factory("StoriesService",["$http",function(a){var b={};return{getStoriesAssignedToTeams:function(){return a.get("/mock/scrumData.json").then(function(a){return a.data})},storeSelectedTeam:function(a){b=a},retrieveSelectedTeam:function(){return b}}}]);var module=angular.module("scrum.teamController",[]);module.controller("TeamController",["$scope","StoriesService","$location",function(a,b,c){function d(a){return _.map(a,function(a){return a.statusOfStories={backlog:_.filter(a.stories,{status:"backlog"}).length,todo:_.filter(a.stories,{status:"todo"}).length,inProgress:_.filter(a.stories,{status:"in progress"}).length,done:_.filter(a.stories,{status:"done"}).length},a})}b.getStoriesAssignedToTeams().then(function(b){a.teamsAndStoriesOverview=d(b.teams)}),a.selectTeam=function(a){b.storeSelectedTeam(a),c.path("/stories")}}]);var module=angular.module("scrum.storiesController",["scrum.storiesService"]);module.controller("StoriesController",["$scope","$location","StoriesService",function(a,b,c){function d(b){a.backlogTasks=_.filter(b.stories,{status:"backlog"}),a.todoTasks=_.filter(b.stories,{status:"todo"}),a.inProgressTasks=_.filter(b.stories,{status:"in progress"}),a.completedTasks=_.filter(b.stories,{status:"done"})}var e=c.retrieveSelectedTeam();e&&!e.teamName&&b.path("/"),a.teamName=e&&e.teamName,d(e)}]);